{% extends "base.html" %}
{% block content %}
<div class="app-container">
    <!-- Hero / Landing -->
    <header class="hero">
        <div class="hero-inner">
            <div class="brand">
                <div class="brand-icon">σ</div>
                <h1 class="brand-name">Socratic</h1>
            </div>
            <p class="tagline">Learn by discovering, not by being told.</p>
            <p class="subtitle">An AI companion that never gives answers — only the questions that lead you to them.</p>
        </div>
    </header>

    <!-- Stats Bar -->
    <section class="stats-bar" id="statsBar">
        <div class="stat-item">
            <span class="stat-value" id="statSessions">0</span>
            <span class="stat-label">Sessions</span>
        </div>
        <div class="stat-item">
            <span class="stat-value" id="statExchanges">0</span>
            <span class="stat-label">Questions Explored</span>
        </div>
        <div class="stat-item">
            <span class="stat-value" id="statMinutes">0</span>
            <span class="stat-label">Minutes Learning</span>
        </div>
        <div class="stat-item">
            <span class="stat-value" id="statUnderstanding">0%</span>
            <span class="stat-label">Avg Understanding</span>
        </div>
    </section>

    <!-- Topic Input -->
    <section class="topic-section">
        <div class="topic-card">
            <h2>What do you want to understand?</h2>
            <p class="topic-hint">Enter any topic, concept, or question. Socratic will guide you to discover the answer yourself.</p>
            
            <form id="topicForm" class="topic-form">
                <div class="input-group">
                    <input type="text" id="topicInput" placeholder="e.g., How does photosynthesis work?" autocomplete="off" required>
                    <button type="submit" id="startBtn" class="btn-primary">
                        <span class="btn-text">Begin Discovery</span>
                        <span class="btn-loading" style="display:none;">
                            <span class="spinner"></span>
                        </span>
                    </button>
                </div>
                <div class="context-toggle">
                    <button type="button" id="contextToggle" class="btn-ghost">+ Add context about what you already know</button>
                    <textarea id="contextInput" class="context-area" placeholder="e.g., I know the basics of biology but never understood the light reactions..." style="display:none;"></textarea>
                </div>
            </form>
        </div>
    </section>

    <!-- Topic Suggestions -->
    <section class="suggestions-section" id="suggestionsSection">
        <h3>Or explore something fascinating</h3>
        <div class="suggestions-grid" id="suggestionsGrid">
            <!-- Populated by JS -->
        </div>
        <button id="refreshSuggestions" class="btn-ghost btn-small">Refresh suggestions</button>
    </section>

    <!-- Recent Sessions -->
    <section class="recent-section" id="recentSection" style="display:none;">
        <h3>Continue Learning</h3>
        <div class="sessions-list" id="recentSessions">
            <!-- Populated by JS -->
        </div>
        <a href="/history" class="btn-ghost btn-small">View all sessions →</a>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>Socratic — AI-powered active learning through guided discovery</p>
        <p class="footer-sub">Powered by OpenRouter | The Socratic Method, reimagined</p>
    </footer>
</div>

<script src="/static/js/index.js"></script>
{% endblock %}
